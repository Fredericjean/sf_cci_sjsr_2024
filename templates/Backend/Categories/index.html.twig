{% extends 'base.html.twig' %}

{% block title %}
	Administration des categories
	{{ parent() }}
{% endblock %}

{% block body %}
	<section class="container mt-2">
		<h1 class="text-center">Administration des categories</h1>
		<a href="{{ path('admin.categories.create') }}" class="mt-2 btn btn-primary">Cr√©er un article</a>
		<div class="row mt-2 gy-4">
			{% for categorie in categories %}
				<div class="col-md-4">
					<div class="blog-card border-{{ categorie.enable ? 'success' : 'danger' }}">
						<div class="blog-card-content">
							<h2 class="card-title fs-4">{{ categorie.name }}</h2>
							<div class="form-check form-switch">
								<p class="card-text">{{ categorie.createdAt|format_datetime('full', 'none') }}</p>
								<div class="form-check form-switch">
									<input class="form-check-input" type="checkbox" id="switch-categorie{{ categorie.id }}" {{ categorie.enable ? 'checked'}} data-switch-categorie-id="{{ categorie.id }}"/>
									<label class="form-check-label fw-bold text-{{ categorie.enable ? 'success' :'danger'}}" for="categorie-switch-{{ categorie.id }}">{{ categorie.enable ? 'Actif' :'Inactif'}}
									</label>
								</div>
								<div class="d-flex flex-wrap justify-content-between mt-3">
									<a href="{{ path('admin.categories.update', {id: categorie.id}) }}" class="btn btn-warning">
										Modifier</a>
									{% include 'Backend/Categories/_deleteForm.html.twig' %}
								</div>
							</div>
						</div>
					</div>
				</div>
			{% endfor %}
		</div>
	</section>
{% endblock %}
