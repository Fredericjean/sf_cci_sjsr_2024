<div class="blog-card">
	<div class="blog-card-img">
		{% if article.imageName %}
			{% set src = vich_uploader_asset(article) %}
		{% else %}

			{% set src = 'https://picsum.photos/200/300' %}

		{% endif %}

		<img src="{{ src }}" alt="{{ article.title}}" loading="lazy">
	</div>
	<div class="blog-card-content">
		<p class="blog-card-date">{{ article.createdAt | format_datetime() }}</p>
		<h2 class="blog-card-content-title">{{article.title}}</h2>
		<h2 class="blog-card-content-description">{{article.content | slice(0,150) ~'...'}}</h2>
		{% for categorie in article.categories %}
			<em class="text-muted">#{{ categorie.name}}</em>
		{% endfor %}

		<p class="blog-card-content-author">
			{{ article.user.firstName }}</p>
		{% if app.request.get('_route')=='admin.articles.index' %}

			<div class="form-check form-switch">
				<input class="form-check-input" type="checkbox" id="article-switch-{{ article.id }}" {{ article.enable ? 'checked'}} data-switch-article-id="{{ article.id }}"/>
				<label class="form-check-label fw-bold text-{{ article.enable ? 'success' :'danger'}}" for="article-switch-{{ article.id }}">{{ article.enable ? 'Actif' :'Inactif'}}
				</label>
			</div>
			<div class="d-flex flex-wrap justify-content-between mt-3">
				<a href="{{ path('admin.articles.update', {id: article.id}) }}" class="btn btn-warning">
					Modifier</a>
				{% include 'Backend/Articles/_deleteForm.html.twig' %}
			</div>
		{% endif %}
	</div>
</div>
